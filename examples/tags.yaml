meta:
  tokens:
    ref: $token(?=[?\*])

version: tags 0.0.1
usage: |
  tags
  
  Usage:
  tags [options] [<input>]

  Options:
    -h --help             Show this screen.
    -v --version          Show version.
    -o --output=FILENAME  Output target.

# Not all tokens will be used during tokenization. Only those
# referenced in the grammar. This is because tokens will be fully 
# expanded and so some may just be used in the construction of 
# other larger tokens.
tokens:
  <: <
  ">": ">"
  /: /
  alpha: (\w+)
  literal: ([\w\t ]+)

# constructors: # (tags/directive/pragma/sdt)
#   list: | # python
#     p[0] = [*p[1], (*p[2:])] 
#   list: p[0] = [*p[1], (*p[2:])]
# Could the above have additional side affects e.g., add to a symbol table (global and local)?

# headings: !list
#   - headings | text
#   - "| text"
# Would be equivalent to 
# headings:
#   - !list headings | text
#   - !list "| text"

grammar:
  data:
    - tags
    - alpha
    - literal
  tags:
    - tags tag
    - tag
  tag: |
    <alpha>
      data
    </alpha>

# Need to think about symbol table
code:
  data: | # python
    # code
  tags: | # python
    # code
  tag: | # python
    # code